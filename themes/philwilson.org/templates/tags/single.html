{% extends "base.html" %}

{% import "post-preview.html" as post_macros %}

{% block rss %}
{% set tag_feed_url = "blog/tag/"~term.slug~"/feed" %}
<link rel="alternate" type="application/atom+xml" title="phil.wilson.org feed: posts tagged with {{ term.name }}" href="{{ get_url(path=tag_feed_url, trailing_slash=false) }}">
{% endblock %}

{% block content %}
  <h1>{{ term.pages | length }} page(s) tagged with "{{ term.name }}"</h1>
  <div class="taxonomy-container">
    {% if paginator.pages %}
      {% for post in paginator.pages %}
        {{ post_macros::post_preview(post=post) }}
      {% endfor %}
    {% endif %}

  <nav class="pagination">
      {% if paginator.previous %}
          <a class="previous" href="{{ paginator.previous }}">‹ Previous</a>
      {% endif %}
      {% if paginator.next %}
          <a class="next" href="{{ paginator.next }}">Next ›</a>
      {% endif %}
  </nav>

</div>
{% endblock content %}